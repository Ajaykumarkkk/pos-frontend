<!-- <p>product-create works!</p> -->
<div class="product-create-container">
    <button class="back-button" routerLink="/products">‚Üê Back to Products</button>

    <h2>{{ productId ? 'Edit Product' : 'Add Product' }}</h2>


    <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
        <div class="form-grid">
            <mat-form-field appearance="outline">
                <mat-label>Product Name *</mat-label>
                <input matInput formControlName="productName" placeholder="Enter product name" />
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Category *</mat-label>
                <mat-select formControlName="category">
                    <mat-option *ngFor="let category of categories" [value]="category">{{ category }}</mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field class="full-width" appearance="outline">
                <mat-label>Description *</mat-label>
                <textarea matInput formControlName="description" placeholder="Enter product description"></textarea>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Price *</mat-label>
                <input matInput type="number" formControlName="price" />
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>SKU *</mat-label>
                <input matInput formControlName="sku" />
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Barcode</mat-label>
                <input matInput formControlName="barcode" placeholder="Enter barcode" />
                <mat-hint>Optional barcode identifier</mat-hint>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Stock Quantity *</mat-label>
                <input matInput type="number" formControlName="stockQuantity" />
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Low Stock Threshold *</mat-label>
                <input matInput type="number" formControlName="lowStockThreshold" />
                <mat-hint>Alert when stock falls below this number</mat-hint>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Inventory Status *</mat-label>
                <mat-select formControlName="inventoryStatus">
                    <mat-option value="In Stock">In Stock</mat-option>
                    <mat-option value="Out of Stock">Out of Stock</mat-option>
                </mat-select>
            </mat-form-field>

            <div class="image-upload full-width">
                <label for="productImage" class="upload-label">
                    <span>Upload Product Image</span>
                    <input id="productImage" type="file" (change)="onImageSelected($event)" />
                </label>
                <mat-hint>Upload an image for this product</mat-hint>

                <div *ngIf="previewUrl" class="image-preview">
                    <img [src]="previewUrl" alt="Preview" />
                </div>
            </div>
        </div>

        <div class="actions">
            <button mat-stroked-button (click)="uploadToGoogleDrive()">Upload to Drive</button>
            <button mat-stroked-button type="button" (click)="onCancel()">Cancel</button>
            <button mat-flat-button color="primary" type="submit">Save Product</button>
        </div>
    </form>
</div>